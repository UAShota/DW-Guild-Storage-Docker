"""
Help notices
"""

from .command_custom import DwgbCmdCustom, DwgbCmdConst
from ..classes import DwgbDatabase, DwgbTransport, DwgbMessage


class DwgbCmdHelp(DwgbCmdCustom):
    """ –ö–æ–º–∞–Ω–¥–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫ """

    def __init__(self, database: DwgbDatabase, transport: DwgbTransport):
        """ –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä """
        super().__init__(database, transport)
        self.regHelp = self.getRegex(r"^(?:\[.+?\]|—Ö–æ—á—É) –ø–æ–º–æ—â—å")
        return

    def work(self, message: DwgbMessage):
        """ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è """
        # –ù–∞–π–¥–µ–Ω–∞ –ø—Ä–æ—Å—å–±–∞ –±–∞—Ñ–∞
        if self.regHelp.match(message.text):
            return self.getHelp(message)
        # –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
        return False

    def getHelp(self, message: DwgbMessage):
        """ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ """
        tmp_text = ""
        tmp_text += "üì¶ https://vk.com/app7055214_-182985865\n"
        tmp_text += "üåê –ü—Ä–∞–≤–∏–ª–∞:\n"
        tmp_text += "üëçüèª –Ω–µ—Ç –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–π, —Ç—Ä–µ—à–∞\n"
        tmp_text += "üëçüèª –Ω–µ—Ç —Ç–µ–≥–∞ –¢–∏—Ä–∞–Ω—É—Å–∞\n"
        tmp_text += "üëçüèª –ø–æ –Ω–µ–æ—Ç–ª–æ–∂–Ω—ã–º –ø—Ä–æ–±–ª–µ–º–∞–º [id66313242|–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å]"
        tmp_text += "üåê –ö–æ–º–∞–Ω–¥—ã:\n"
        tmp_text += "üï∂ —Ö–æ—á—É [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ] <–ø–æ–ª–Ω–æ–µ –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è –ø—Ä–µ–¥–º–µ—Ç–∞>\n"
        tmp_text += "üï∂ —Ö–æ—á—É –±–∞—Ñ <–∞—Ç–∞–∫–∏, –∑–∞—â–∏—Ç—ã, —É–¥–∞—á–∏, —á–µ–ª–æ–≤–µ–∫–∞> üåï300\n"
        tmp_text += "üï∂ —Ö–æ—á—É <—á–∏—Å—Ç—ã–º–∏, –≥—Ä—è–∑–Ω—ã–º–∏> [o] <–∑–Ω–∞—á–µ–Ω–∏–µ>\n"
        tmp_text += "üï∂ —Ö–æ—á—É —Å–∫–ª–∞–¥\n"
        tmp_text += "üï∂ —Ö–æ—á—É —Ü–µ–Ω—ã\n"
        tmp_text += "üï∂ —Ö–æ—á—É –±–∞–ª–∞–Ω—Å\n"
        tmp_text += "üï∂ —Ö–æ—á—É –ø—Ä–æ—Ñ–∏–ª—å\n"
        tmp_text += "üï∂ –≥–∞–∑–µ—Ç–∞ <—Ç–µ–∫—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è> (100 —Å–∏–º–≤–æ–ª–æ–≤)\n"
        tmp_text += "üï∂ –≥–∞–∑–µ—Ç–∞ —É–¥–∞–ª–∏—Ç—å\n"
        tmp_text += "üåê –ü–æ–¥—Å–∫–∞–∑–∫–∏:\n"
        tmp_text += "üí¨ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ - –ø–µ—Ä–µ–≤–æ–¥ –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –∑–æ–ª–æ—Ç–∞, –æ—Å–∫–æ–ª–∫–æ–≤ –Ω–∞ –ú–∞—Ä–≥–æ\n"
        tmp_text += "üí¨ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è - —Ä–∞–∑ –≤ —Ç—Ä–∏ –¥–Ω—è\n"
        tmp_text += "üí¨ –ø—Ä–æ–¥–∞–∂–∞ –Ω–∞ —Å–∫–ª–∞–¥ %s%%, –ø–æ–∫—É–ø–∫–∞ - %s%% –æ—Ç —Ü–µ–Ω—ã\n" % (int(DwgbCmdConst.PERCENT_BUY * 100), int(DwgbCmdConst.PERCENT_SELL * 100))
        tmp_text += "üåê –ê–¥–º–∏–Ω–∫–∞:\n"
        tmp_text += "ü¶ñ —Å–∫–ª–∞–¥ –∫–Ω–æ–ø–∫–∏\n"
        tmp_text += "ü¶ñ —Å–∫–ª–∞–¥ –æ–±–Ω–æ–≤–∏—Ç—å\n"
        tmp_text += "ü¶ñ —Å–∫–ª–∞–¥ —É–¥–∞–ª–∏—Ç—å <N>\n"
        tmp_text += "ü¶ñ —Å–∫–ª–∞–¥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å\n"
        tmp_text += "ü¶ñ —Å–∫–ª–∞–¥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å <N>\n"
        tmp_text += "ü¶ñ —Å–∫–ª–∞–¥ –ø—Ä–µ–¥–º–µ—Ç <–ø–æ–ª–Ω–æ–µ –∏–º—è –ø—Ä–µ–¥–º–µ—Ç–∞> [-—Ü–µ–Ω–∞ <N>] [-–∫–æ–ª <N>] [-–ª–∏–º <N>] [-–∏–∫–æ–Ω–∫–∞ <–±—É–∫–≤–∞>] [-—Ç–µ–≥ <—Å–ª–æ–≤–æ>] [-—Å—Ç–æ–∫ <N>] [-–¥–æ–ø <N>]\n"
        tmp_text += "ü¶ñ —Å–∫–ª–∞–¥ –ø—Ä–æ—Ü–µ–Ω—Ç <—Å–∫—É–ø–∫–∞> <–ø—Ä–æ–¥–∞–∂–∞>\n"
        tmp_text += "ü¶ñ —Å–∫–ª–∞–¥ —Ü–µ–Ω—É [–∏–º—è] [—Ö–æ—Ä–æ—à–æ] [—Ü–µ–Ω–∞]\n"
        self.transport.writeChannel(tmp_text, message, False)
        # –í –ª—é–±–æ–º —Å–ª—É—á–∞–µ –æ–ø–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
        return True
